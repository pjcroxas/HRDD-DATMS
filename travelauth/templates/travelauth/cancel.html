{% extends "basetemp/main_base.html" %}
{% block content %}
{% load static %}
{% for item in designation %}
          {% if item.role_id == 1 %} <!-- Requestor -->

<style>
	.fw {
		width: 400px;
	}
  td {
  text-transform:uppercase;
  color:gray;
  text-align: left;
  }
</style>
<div class="row">
	<div class="col-lg-12 col-md-12 col-xs-12">

<!-- start of travel table -->
<div class="card">
<div class="card-body">
      <table class="table rtbl">
        <a href="/requestor/t_r/"><h6>Travel Requests</a> / Cancel Request</h6>
        <thead class="thead-default">
          <tr>
            <!-- <th align='center' rowspan='2' style='border-color: #000000; vertical-align: middle'>ID</th> -->
            <th align='center' rowspan='2' style='border-color: #000000; vertical-align: middle'>REFERENCE</th>
            <th align='center' rowspan='2' style='border-color: #000000; vertical-align: middle'>CREATED AT</th>
            <th align='center' rowspan='2' style='border-color: #000000; vertical-align: middle'>CATEGORY</th>
            <th align='center' rowspan='2' style='border-color: #000000; vertical-align: middle'>TITLE</th>
            <th align='center' rowspan='2' style='border-color: #000000; vertical-align: middle'>DESTINATION</th>
            <th align='center' rowspan='2' style='border-color: #000000; vertical-align: middle'>ATTENDEE</th>
            <th align='center' rowspan='2' style='border-color: #000000; vertical-align: middle'>FROM</th>
            <th align='center' rowspan='2' style='border-color: #000000; vertical-align: middle'>TO</th>
            <th align='center' rowspan='2' style='border-color: #000000; vertical-align: middle'>STATUS</th>

          </tr>
          <!--<tr>
            <th  style='border-color: #000000' scope="col">Start Date</th>
            <th  style='border-color: #000000' scope="col">End Date</th>
          </tr>-->
        </thead>
        <tbody>
          {% for request in rdata %}
            <tr>
                <td align='center' style='border-color: #000000'>{{ request.request_category.shorterm  }}{{ request.date_filed|date:"Y-m-d"}}-00{{ request.incrementor }}</td>
                <td align='center' style='border-color: #000000'>{{ request.date_filed }}</td>
                <td align='center' style='border-color: #000000'>{{ request.request_category }}</td>
                <td align='center' style='border-color: #000000'>{{ request.program_title }}</td>
                <td align='center' style='border-color: #000000'>{{ request.destination }}</td>
                <td align='center' style='border-color: #000000'>{{ request.last_name  }} {{request.first_name}} {{request.middle_initial}}</td>
                <td align='center' style='border-color: #000000'>{{ request.programdates_from  }}</td>
                <td align='center' style='border-color: #000000'>{{ request.programdates_to  }}</td>
                <td align='center' style='border-color: #000000'>{{request.status}}</td>





            </tr>
          {% endfor %}
        </tbody>
      </table>
</div></div>
<br></br>
<div class="card">
<div class="card-body">
      <!-- end of travel table -->
      <form method="POST" enctype = "multipart/form-data">
      	{% csrf_token %}
      	<table>
      		<tr>
      			<td>Indicate your reason for cancellation: </td>
      			<td><input type="text" name="reason" class="form-control fw" required></td>
      		</tr>
		<tr>
			<td>Proof/Attachment: </td>
			<td><input type = "file" name = "cancel_file" required></td>
		</tr>
      		<tr>
      			<td><input type="submit" name="update" value="UPDATE" class="btn btn-primary">&nbsp;&nbsp;<a href="/requestor/t_r" class="btn btn-warning">Return</a></td>

      		</tr>
      	</table>
      </form>
</div></div>

	</div>
</div>
<!-- do not remove -->
{% else %}
<center>
<h1>PAGE DOES NOT EXIST</h1>
<img src="{% static 'basetemp/empty.svg' %}" alt="ic" class="img-responsive dp rounded">
{% endif %}
</center>
{% endfor %}

</main>
{% endblock content %}
